/* ==========================================================================
   Soccer Impostor — Visual Overhaul (v2.0)
   - Pure CSS/UI changes only. No JS changes required.
   - Uses existing DOM structure & IDs/classes from your app.
   ========================================================================== */

/* ----------------------------
   0) Design Tokens
   ---------------------------- */
:root{
  /* Pitch palette */
  --pitch-950:#04110a;
  --pitch-900:#071a0e;
  --pitch-800:#0b2b16;
  --pitch-700:#114323;
  --pitch-600:#15532c;
  --pitch-500:#1a6c3b;

  /* Chalk / net */
  --line-100:#f7faf7;
  --net-200:#dcebe2;

  /* Accents */
  --accent-blue:#3ac1ff;   /* scoreboard neon */
  --accent-goal:#00dc82;   /* goal highlight */
  --accent-yellow:#ffd400; /* yellow card */
  --accent-red:#ff4b4b;    /* red card */

  /* Neutrals on dark */
  --ink-100:#eef7f1;
  --ink-300:#bfd5c8;
  --ink-500:#94b4a5;
  --ink-700:#6e8f81;
  --ink-900:#eaf2ee;

  /* Surfaces */
  --card:#0f1d13;     /* panel base */
  --card-2:#122819;   /* lifted panel */
  --glass:#0d2817cc;  /* frosted overlay */
  --border:#1d5a37;
  --border-soft:#1a4b30;

  /* Typography */
  --font-display:"Bebas Neue", system-ui, sans-serif;
  --font-ui:"Rajdhani", system-ui, sans-serif;

  /* Radius & shadow */
  --r-lg:18px;
  --r-md:12px;
  --r-sm:10px;
  --shadow:0 20px 60px rgba(0,0,0,.35);

  /* Sizing */
  --container:1080px;
}

/* ----------------------------
   1) Global Base
   ---------------------------- */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  color:var(--ink-100);
  font-family:var(--font-ui);
  line-height:1.55;
  /* Stadium atmosphere: radial glow + mowing stripes + deep gradient */
  background:
    radial-gradient(1200px 700px at 50% -6%, rgba(80,160,120,.25), transparent 60%),
    repeating-linear-gradient( to bottom,
      rgba(255,255,255,.06) 0px, rgba(255,255,255,.06) 2px,
      rgba(0,0,0,0) 2px, rgba(0,0,0,0) 78px),
    linear-gradient(180deg, var(--pitch-950), var(--pitch-800) 45%, var(--pitch-900));
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
}

/* Utility text */
.muted{ color:var(--ink-500) }
.small{ font-size:.92rem }

/* ----------------------------
   2) Top Bar (“Scoreboard”)
   ---------------------------- */
.topbar{
  position:sticky; top:0; z-index:30;
  display:flex; align-items:center; justify-content:space-between;
  gap:1rem; padding:16px 20px;
  background:linear-gradient(180deg, #0f3622 0%, #0b2316 70%);
  border-bottom:2px solid #1d5a37;
  box-shadow:var(--shadow);
}
.brand{
  font-family:var(--font-display);
  letter-spacing:.7px;
  font-size:clamp(28px,3.6vw,42px);
  color:var(--line-100);
  display:flex; align-items:center; gap:.6rem;
  text-shadow:0 2px 18px rgba(58,193,255,.15);
}
.brand::before{
  content:"";
  width:28px;height:28px;
  background:
    radial-gradient(circle at 70% 30%, #fff 0 26%, #e8f1ec 27% 42%, transparent 43%),
    radial-gradient(circle at 30% 70%, #fff 0 26%, #e8f1ec 27% 42%, transparent 43%);
  border-radius:50%;
  outline:2px solid #ffffff;
  box-shadow:0 0 0 3px rgba(255,255,255,.2);
}
.room{
  font-family:var(--font-display);
  font-size:20px; letter-spacing:3px;
  color:var(--accent-blue);
  background:#031a10;
  border:1px solid #1f6a44;
  padding:6px 10px; border-radius:10px;
}

/* Optional tagline under scoreboard */
.game-tagline{
  max-width:var(--container);
  margin: 0 auto; padding: 0 16px;
  color:var(--ink-500); font-style:italic; text-align:center;
}

/* ----------------------------
   3) Page Structure
   ---------------------------- */
.container{ max-width:var(--container); margin:26px auto; padding:0 16px }

.view{ display:none; opacity:0; transform:translateY(12px); transition:opacity .35s ease, transform .35s ease }
.view.active{ display:grid; gap:18px; opacity:1; transform:none }

.panel, .subpanel{
  position:relative;
  background:
    linear-gradient(180deg, var(--card), var(--card-2));
  border:1px solid var(--border);
  border-radius:var(--r-lg);
  box-shadow:var(--shadow);
  padding:18px 20px;
}
.subpanel{
  background:linear-gradient(180deg, #0d1a12, #0f2217);
  border-style:dashed;
  border-color:var(--border-soft);
  border-radius:var(--r-md);
}

/* Section headings with “chalk line” underline */
h1,h2,h3{
  font-family:var(--font-display);
  letter-spacing:.5px;
  margin:0 0 10px;
  color:var(--line-100);
}
h2{ font-size:clamp(24px,2.2vw,30px); position:relative; padding-bottom:6px }
h2::after{
  content:""; position:absolute; left:0; bottom:-2px;
  width:84px; height:3px; border-radius:6px;
  background:linear-gradient(90deg, var(--line-100), transparent);
  opacity:.65;
}
h3{ font-size:clamp(18px,1.9vw,22px); }

/* Rows */
.row{ display:flex; gap:12px; align-items:center; margin:10px 0 }
.row.two > *{ flex:1 }
.row.wrap{ flex-wrap:wrap }
.space-between{ justify-content:space-between }

/* ----------------------------
   4) Inputs & Buttons
   ---------------------------- */
.input{
  width:100%;
  background:#0a2216;
  color:var(--ink-100);
  border:1px solid #206941;
  border-radius:var(--r-sm);
  padding:12px 14px;
  outline:none;
  transition:border-color .15s ease, box-shadow .15s ease, transform .05s ease;
}
.input:focus{
  border-color:var(--accent-blue);
  box-shadow:0 0 0 3px rgba(58,193,255,.18);
}

/* Buttons */
.btn{
  --bg:#0c1b15;
  --fg:var(--ink-100);
  --bd:#205b3a;

  background:var(--bg);
  color:var(--fg);
  border:1px solid var(--bd);
  padding:12px 16px;
  border-radius:12px;
  cursor:pointer;
  font-weight:800;
  letter-spacing:.3px;
  transition:transform .08s ease, box-shadow .18s ease, filter .18s ease;
}
.btn:hover{ transform:translateY(-1px); filter:brightness(1.06) }
.btn:active{ transform:translateY(0) }
.btn:focus-visible{ outline:3px solid rgba(58,193,255,.35) }

.btn.primary{
  --bg:linear-gradient(180deg, #ffe968, var(--accent-yellow));
  --fg:#161616;
  --bd:#d0b000;
  text-shadow:0 1px 0 rgba(255,255,255,.45);
  box-shadow:0 10px 24px rgba(255,233,104,.12);
}
.btn.danger{
  --bg:linear-gradient(180deg, #ff8a8a, var(--accent-red));
  --fg:#1b0000;
  --bd:#b21e1e;
  box-shadow:0 10px 24px rgba(255,75,75,.12);
}

/* Toggle/checkbox alignment nicety */
input[type="checkbox"]{ transform:translateY(1px) }

/* ----------------------------
   5) Lists, Cards & Lobby Browser
   ---------------------------- */
.list{
  list-style:none; padding:0; margin:8px 0 0;
  max-height:360px; overflow:auto; scrollbar-width:thin;
}
.list li{
  padding:12px 14px; margin-bottom:10px;
  background:#0a2216; border:1px solid var(--border-soft); border-radius:12px;
}

/* Lobby rows in the global browser list */
#lobbyList li{
  display:flex; align-items:center; justify-content:space-between; gap:12px;
}
#lobbyList .row.space-between{ width:100% }

/* ----------------------------
   6) Game-Labeled Blocks
   ---------------------------- */
.role{
  margin-bottom:10px; padding:10px 12px;
  border-radius:12px; border:1px dashed #28406e;
  background:linear-gradient(180deg, #0a1529, #0c1b34);
  color:#cfe6ff;
}
.secretBox{
  margin:8px 0; padding:10px 12px;
  border-radius:12px;
  background:#092018; border:1px solid #113b29; color:#9af5be;
}
.turnBox{ display:flex; align-items:center; gap:10px; margin:10px 0 12px }
.timer{
  padding:2px 10px; border-radius:999px;
  background:#13254b; border:1px solid #28406e; color:#d7e7ff
}

/* ----------------------------
   7) Voting UI
   ---------------------------- */
.voteList{ max-height:360px; overflow:auto; scrollbar-width:thin }
.voteCard{
  display:flex; align-items:center; justify-content:space-between;
  padding:12px 14px; margin-bottom:10px;
  background:
    linear-gradient(180deg, #0a2216, #0b2719);
  border:2px solid transparent;
  border-image:linear-gradient(90deg, #1f6a44, #2f8a5e) 1;
  border-radius:14px;
  transition:box-shadow .18s ease, transform .08s ease;
}
.voteCard:hover{ box-shadow:0 10px 26px rgba(0,0,0,.25); transform:translateY(-1px) }
.voteCard input{ margin-left:12px; accent-color:var(--accent-goal) }

/* Voting chat block */
.chatLog{
  min-height:120px; max-height:220px; overflow-y:auto; scrollbar-width:thin;
  border:1px solid rgba(255,255,255,.08);
  border-radius:10px; padding:.6rem .75rem; background:rgba(0,0,0,.18);
  font-size:.98rem; line-height:1.35;
}
.chatLog .line{ margin:.28rem 0 }
.chatLog .name{ opacity:.85; font-weight:700; margin-right:.25rem }

/* ----------------------------
   8) Footer
   ---------------------------- */
footer{ text-align:center; margin:32px 0; opacity:.9 }
footer a{ color:var(--ink-100); text-decoration:none; border-bottom:1px solid transparent }
footer a:hover{ border-bottom-color:var(--ink-100) }

/* ----------------------------
   9) Motion & Micro-interactions
   ---------------------------- */
.pulse{ animation:pulse 1.4s ease-in-out infinite }
@keyframes pulse{
  0%{opacity:.78; text-shadow:0 0 0 rgba(100,209,255,0)}
  50%{opacity:1; text-shadow:0 0 14px rgba(100,209,255,.65)}
  100%{opacity:.78; text-shadow:0 0 0 rgba(100,209,255,0)}
}

/* Subtle panel float-in for first render */
.panel{ animation:panel-in .28s ease both }
@keyframes panel-in{
  from{ transform:translateY(6px); opacity:.0 } to{ transform:none; opacity:1 }
}

/* ----------------------------
   10) Responsive Tweaks
   ---------------------------- */
@media (max-width: 900px){
  .container{ padding:0 14px }
}
@media (max-width: 720px){
  .row.two{ flex-direction:column }
  .brand{ font-size:34px }
  .room{ font-size:18px; letter-spacing:2px }
  .panel, .subpanel{ padding:16px }
}

/* ----------------------------
   11) Reduced Motion
   ---------------------------- */
@media (prefers-reduced-motion: reduce){
  .pulse, .panel{ animation:none }
  .view{ transition:none }
  .btn{ transition:none }
}

/* ----------------------------
   12) High-contrast Focus Helpers
   ---------------------------- */
.input:focus-visible,
.voteCard:focus-within{ outline:3px solid rgba(58,193,255,.33); outline-offset:2px }

/* ----------------------------
   13) Optional “Field Lines” Helper Classes
   (You already have mowing stripes; these add subtle edges to panels)
   ---------------------------- */
.panel::before{
  content:""; position:absolute; inset:0; pointer-events:none;
  background:
    linear-gradient(180deg, rgba(255,255,255,.05), transparent 30%),
    radial-gradient(1200px 400px at 50% 0%, rgba(255,255,255,.06), transparent 60%);
  border-radius:inherit; opacity:.6;
}

/* Maintain compatibility with legacy utility classes you had */
.hidden{ display:none }

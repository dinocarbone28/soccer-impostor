<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Soccer Impostor — Multiplayer</title>

  <meta name="theme-color" content="#ffffff">
  <link rel="icon" href="/favicon.ico">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Rajdhani:wght@400;600;700&display=swap" rel="stylesheet">

  <!-- Your base styles (keep yours) -->
  <link rel="stylesheet" href="styles.css?v=2.2.0">

  <!-- Light (FIFA-style) layer on top of your CSS -->
  <style>
    :root{
      --bg: #ffffff;
      --ink: #0c1022;
      --ink-2: #5b6a8c;
      --primary: #2256ff;
      --primary-2:#1a43c7;
      --card: #f5f7fb;
      --line: #e6ebf6;
      --shadow: 0 18px 40px rgba(18, 29, 61, .12);
      --font-display: "Bebas Neue", system-ui, sans-serif;
    }
    body{ background:var(--bg); color:var(--ink); }
    .topbar{
      display:flex; align-items:center; justify-content:space-between;
      gap:16px; padding:16px 20px; position:sticky; top:0; z-index:20;
      background:linear-gradient(180deg,#ffffff, rgba(255,255,255,.86));
      backdrop-filter:saturate(1.2) blur(6px); border-bottom:1px solid var(--line);
    }
    .brand{ font-family:var(--font-display); font-size:32px; letter-spacing:.5px }
    .game-tagline{ color:var(--ink-2); font-family:Rajdhani,system-ui,sans-serif }
    .container{ max-width:1100px; margin:20px auto; padding:0 16px }
    .screen{ display:none; opacity:0; transform:translateY(14px);
      transition:opacity .35s ease, transform .35s ease; }
    .screen.active{ display:block; opacity:1; transform:none; }
    .menu-hero{
      display:grid; gap:18px; grid-template-columns:repeat(3,minmax(0,1fr));
    }
    .tile{
      position:relative; overflow:hidden; border-radius:18px; cursor:pointer;
      background:var(--card); border:1px solid var(--line); box-shadow:var(--shadow);
      min-height:200px; transition:transform .15s ease, box-shadow .2s ease, filter .2s ease;
    }
    .tile:hover{ transform:translateY(-3px); box-shadow:0 24px 60px rgba(18,29,61,.18); filter:brightness(1.02) }
    .tile h3{ position:absolute; left:18px; bottom:18px; margin:0; font-family:var(--font-display); font-size:28px }
    .tile .sub{ position:absolute; left:18px; bottom:52px; color:var(--ink-2) }
    .tile img{ position:absolute; right:-8px; bottom:-6px; height:120%; opacity:.9; pointer-events:none; }

    .panel{
      background:#fff; border:1px solid var(--line); box-shadow:var(--shadow);
      border-radius:16px; padding:16px; margin-bottom:16px;
    }
    .subpanel{ background:var(--card); border:1px solid var(--line); border-radius:14px; padding:12px; margin:10px 0 }
    .row{ display:flex; gap:10px; align-items:center }
    .row.two > *{ flex:1 }
    .row.wrap{ flex-wrap:wrap }
    .space-between{ justify-content:space-between }
    .list{ list-style:none; padding:0; margin:0; display:grid; gap:10px }
    .muted{ color:var(--ink-2) }
    .small{ font-size:.92rem }
    .input{
      width:100%; padding:10px 12px; border:1px solid var(--line); border-radius:12px; background:#fff;
      font: 600 15px Rajdhani, system-ui, sans-serif;
    }
    .btn{
      padding:12px 16px; border-radius:12px; border:1px solid var(--line); background:#fff; cursor:pointer;
      font: 700 15px Rajdhani, system-ui, sans-serif; letter-spacing:.3px;
    }
    .btn.primary{ background:var(--primary); color:#fff; border-color:transparent }
    .btn.primary:disabled{ background:#aac2ff; cursor:not-allowed }
    .btn.danger{ background:#ff2255; color:#fff; border-color:transparent }
    .voteCard{ display:flex; justify-content:space-between; align-items:center; border:1px solid var(--line);
      border-radius:12px; padding:10px 12px; margin:6px 0; background:#fff }
    .hidden{ display:none !important }
    .stripe{ height:3px; background:linear-gradient(90deg,#dfe7ff,transparent); opacity:.9; border-radius:999px; margin:6px 0 12px }

    @media (max-width: 980px){ .menu-hero{ grid-template-columns:1fr } }
  </style>
</head>
<body>
  <header class="topbar">
    <div class="brand">⚽ Soccer Impostor</div>
    <div class="room" id="roomCode"></div>
    <div class="game-tagline"><p>Online multiplayer • create, join, or match globally</p></div>
  </header>

  <main class="container">

    <!-- MAIN MENU -->
    <section id="screen-menu" class="screen active">
      <div class="menu-hero">
        <article class="tile" data-nav="screen-create">
          <img src="/img/create-forward.png" alt="">
          <div class="sub">Host a room with your rules</div>
          <h3>Create Lobby</h3>
        </article>
        <article class="tile" data-nav="screen-join">
          <img src="/img/join-midfielder.png" alt="">
          <div class="sub">Have a 5-letter code? Jump in</div>
          <h3>Join by Code</h3>
        </article>
        <article class="tile" data-nav="screen-global">
          <img src="/img/match-keeper.png" alt="">
          <div class="sub">Browse public lobbies worldwide</div>
          <h3>Global Matchmaking</h3>
        </article>
      </div>
    </section>

    <!-- CREATE LOBBY -->
    <section id="screen-create" class="screen">
      <div class="row"><button class="btn" data-nav="screen-menu">← Back</button><h2>Create Lobby</h2></div>
      <div class="stripe"></div>
      <div class="panel">
        <div class="row"><input id="hostName" class="input" placeholder="Your name"></div>
        <div class="row two">
          <div><label># of Impostors</label><input id="hostImpostors" class="input" type="number" min="1" value="1"></div>
          <div><label>Hint Timer (sec)</label><input id="hostHintSec" class="input" type="number" min="5" value="30"></div>
        </div>
        <div class="row two">
          <div><label><input id="hostPublic" type="checkbox" checked> Public lobby</label></div>
          <div><label>Region</label>
            <select id="hostRegion" class="input">
              <option>GLOBAL</option><option>NA</option><option>SA</option><option>EU</option><option>AF</option><option>AS</option><option>OC</option>
            </select>
          </div>
        </div>
        <div class="row two">
          <div><label>Max Players (3–10)</label><input id="hostMaxPlayers" class="input" type="number" min="3" max="10" value="10"></div>
          <div></div>
        </div>
        <button id="createBtn" class="btn primary">Create Room</button>
      </div>
    </section>

    <!-- JOIN BY CODE -->
    <section id="screen-join" class="screen">
      <div class="row"><button class="btn" data-nav="screen-menu">← Back</button><h2>Join by Code</h2></div>
      <div class="stripe"></div>
      <div class="panel">
        <input id="joinName" class="input" placeholder="Your name">
        <input id="joinCode" class="input" placeholder="ABCDE" maxlength="5">
        <button id="joinBtn" class="btn">Join</button>
      </div>
    </section>

    <!-- GLOBAL MATCHMAKING -->
    <section id="screen-global" class="screen">
      <div class="row"><button class="btn" data-nav="screen-menu">← Back</button><h2>Global Matchmaking</h2></div>
      <div class="stripe"></div>
      <div class="panel">
        <div class="row wrap" style="gap:.5rem;margin:.25rem 0 .75rem">
          <input id="matchName" class="input" placeholder="Your matchmaking name (shown to others)" style="max-width:280px">
          <button id="lobbyRefreshBtn" class="btn">Refresh</button>
          <select id="lobbyRegionFilter" class="input" style="max-width:180px">
            <option value="">All Regions</option><option>GLOBAL</option><option>NA</option><option>SA</option><option>EU</option><option>AF</option><option>AS</option><option>OC</option>
          </select>
          <label class="small muted"><input id="lobbyOnlyOpen" type="checkbox" style="margin-right:.4rem">Only open lobbies</label>
        </div>
        <ul id="lobbyList" class="list"></ul>
      </div>
    </section>

    <!-- ====== EXISTING GAME VIEWS (unchanged IDs) ====== -->
    <section id="lobby" class="view">
      <div class="panel">
        <h2>Lobby</h2>
        <p class="muted">Share the room code with friends.</p>
        <ul id="playerList" class="list"></ul>
      </div>
      <div class="panel">
        <div class="row"><label class="small"><input id="readyToggle" type="checkbox" style="margin-right:.5rem">I’m Ready</label></div>
      </div>
      <div id="hostControls" class="panel hidden">
        <h3>Host Controls</h3>
        <div class="row wrap" style="gap:8px">
          <button id="startGameBtn" class="btn primary" disabled>Start Game</button>
          <button id="forceRestartBtn" class="btn danger">Play Again (Randomize)</button>
          <button id="forceNextBtn" class="btn">Force Next Turn</button>
          <button id="mainMenuBtn" class="btn">Main Menu</button>
        </div>
        <p id="startReqMsg" class="small muted" style="margin:.5rem 0 0"></p>
        <div class="row wrap" style="margin-top:.75rem">
          <button id="updateSettingsBtn" class="btn">Update Settings (Host)</button>
        </div>
      </div>
    </section>

    <section id="hint" class="view">
      <div class="panel">
        <div class="role" id="roleBanner"></div>
        <div class="secretBox hidden" id="secretBox">Your player: <strong id="secretName"></strong></div>
        <div class="turnBox"><span>Turn:</span><strong id="turnName" class="pulse">—</strong><span id="turnTimer" class="timer"></span></div>
        <div id="hintInputRow" class="row"><input id="hintInput" class="input" placeholder="Your hint (keep it subtle!)"/><button id="submitHintBtn" class="btn">Submit Hint</button></div>
        <h3>Hints</h3>
        <ul id="hintList" class="list"></ul>
      </div>
    </section>

    <section id="vote" class="view">
      <div class="panel">
        <h2>Vote the Impostor</h2>
        <div class="row space-between" style="align-items:center;margin-bottom:.75rem">
          <div class="muted small">Voting ends in <strong id="voteCountdown">—</strong></div>
          <div class="muted small">Round Hints &nbsp;↓</div>
        </div>
        <div id="voteChat" class="subpanel" style="margin-top:.75rem">
          <h3>Chat</h3>
          <div id="chatLog" class="chatLog"></div>
          <div class="row" style="gap:.5rem;margin-top:.5rem">
            <input id="chatInput" class="input" placeholder="Type a message…" maxlength="200">
            <button id="chatSendBtn" class="btn">Send</button>
          </div>
        </div>
        <div class="subpanel"><h3>Round Hints</h3><ul id="voteHints" class="list"></ul></div>
        <div id="voteList" class="voteList"></div>
        <label class="voteCard"><span>Skip Vote (no elimination)</span><input type="radio" name="voteTarget" value="SKIP"></label>
        <button id="submitVoteBtn" class="btn primary">Submit Vote</button>
        <p class="muted small" id="voteStatus"></p>
      </div>
    </section>

    <section id="over" class="view">
      <div class="panel">
        <h2 id="overTitle">Game Over</h2>
        <p id="overDetails"></p>
        <button id="playAgainBtn" class="btn primary">Play Again (Host)</button>
      </div>
    </section>
  </main>

  <footer class="muted small" style="text-align:center; margin:32px 0; opacity:.85">
    <a href="/privacy.html">Privacy</a> ·
    <a href="/contact.html">Contact</a> ·
    <a href="/">Home</a>
  </footer>

  <!-- Scripts -->
  <script src="/socket.io/socket.io.js" defer></script>
  <script src="client.js?v=1.6.2" defer></script>

  <!-- SPA nav (visual only; doesn’t touch game logic) -->
  <script>
    (function(){
      const screens=["screen-menu","screen-create","screen-join","screen-global"];
      function activate(id){ screens.forEach(s=>{ const el=document.getElementById(s); if(el) el.classList.toggle("active", s===id); }); }
      document.addEventListener("click", e => { const t=e.target.closest("[data-nav]"); if(t) activate(t.getAttribute("data-nav")); });
    })();
  </script>
</body>
</html>
